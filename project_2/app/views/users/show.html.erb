<div class="user">
 <h1><%= "Welcome "+ @user.first_name + " !" %> </h1>
 <h3>Find neighbor and watch the match together.</h3>


</div>
<!-- refactor script tags later -->
<script src="https://maps.googleapis.com/maps/api/js?callback=initMap" async></script>
<script>
  function renderMarks(lat,lng) {
        var marker = new google.maps.Marker({
          position: {lat: lat, lng: lng},
          map: map,
          title: 'Your map'
        });         
      }
</script>
<!-- script tags -->

<!-- if a host -->
<% if current_user.true_or_false %>
<div id="map"></div>
 
<script>
var mapDiv = document.getElementById('map');
var map;
      
function initMap(){
    
        map = new google.maps.Map(mapDiv, {
          center: {lat: <%=@user["lat"]%>,  lng: <%=@user["lng"]%>},
          zoom: 13
        });


        var marker = new google.maps.Marker({
            position: {lat:<%=@user["lat"]%>, lng:<%=@user["lng"]%>},
            map: map,
            title: 'Your map'
          }); 




        <% @lats.count.times do |count| %>
          renderMarks(<%= @lats[count] %>, <%= @lngs[count] %>);
        <% end %>
    }  
      
  </script>
<!-- if a guest -->
  <% else %>
    
    <div id="map"></div>
 
<script>
var mapDiv = document.getElementById('map');
var map;
      
function initMap(){
    
        map = new google.maps.Map(mapDiv, {
          center: {lat: <%=@user["lat"]%>,  lng: <%=@user["lng"]%>},
          zoom: 13
        });
          <% @lats.count.times do |count| %>
          renderMarks(<%= @lats[count] %>, <%= @lngs[count] %>);


        <% end %>
        
    }  
</script>

<% end %>
